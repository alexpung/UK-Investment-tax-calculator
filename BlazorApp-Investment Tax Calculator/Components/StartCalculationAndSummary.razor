@using Syncfusion.Blazor.Buttons
@using System.Collections.ObjectModel;
@using ViewModel
@using ViewModel.Options;
@using Syncfusion.Blazor.DropDowns

@inject StartCalculationViewModel startCalculationViewModel
@inject CalculationResultSummaryViewModel calculationResultSummaryViewModel
@inject YearOptions yearOptions;
<h3>Calculation</h3>

<SfButton @onclick="startCalculationViewModel.OnStartCalculation"> Start Calculation </SfButton>

<p>Select Year to display/Export:</p>
<SfMultiSelect @bind-Value="yearOptions.SelectedOptions" Placeholder="Select Years" Mode="VisualMode.CheckBox"
    ShowSelectAll=true SelectAllText="Select All" UnSelectAllText="Unselect All" DataSource="@yearOptions.Options">
    <MultiSelectFieldSettings Text="Years" Value="Years"></MultiSelectFieldSettings>
</SfMultiSelect>

Tax Summary:

<p>Number of disposals: @calculationResultSummaryViewModel.NumberOfDisposals</p>
<p>Total Disposal Proceed: @calculationResultSummaryViewModel.DisposalProceeds.ToString("C0")</p>
<p>Total Allowable Cost: @calculationResultSummaryViewModel.AllowableCosts.ToString("C0")</p>
<p>Total Gain: @calculationResultSummaryViewModel.TotalGain.ToString("C0")</p>
<p>Total Loss: @calculationResultSummaryViewModel.TotalLoss.ToString("C0")</p>
<p>Total Dividend: @calculationResultSummaryViewModel.TotalDividends.ToString("C0")</p>
<p>Total Foreign Witholding Tax Paid: @calculationResultSummaryViewModel.TotalForeignTaxPaid.ToString("C0")</p>
